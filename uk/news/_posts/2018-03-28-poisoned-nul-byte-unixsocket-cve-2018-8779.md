---
layout: news_post
title: "CVE-2018-8779: Ненавмисне створення сокету через отруєний NUL байт в UNIXServer та UNIXSocket"
author: "usa"
translator: "Andrii Furmanets"
date: 2018-03-28 14:00:00 +0000
tags: security
lang: uk
---

Є вразливість ненавмисного створення сокету в методі `UNIXServer.open` бібліотеки socket, включеної в Ruby.
І також є вразливість ненавмисного доступу до сокету в методі `UNIXSocket.open`.
Цій вразливості присвоєно ідентифікатор CVE [CVE-2018-8779](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-8779).

## Деталі

`UNIXServer.open` приймає шлях сокету, який буде створено, на першому параметрі.
Якщо шлях містить NUL (`\0`) байти, цей метод розпізнає, що шлях завершено перед NUL байтами.
Тому, якщо скрипт приймає зовнішній ввід як аргумент цього методу, зловмисник може зробити файл сокету в ненавмисному шляху.
І, `UNIXSocket.open` також приймає шлях сокету, який буде створено, на першому параметрі без перевірки NUL байтів, як `UNIXServer.open`.
Тому, якщо скрипт приймає зовнішній ввід як аргумент цього методу, зловмисник може прийняти файл сокету в ненавмисному шляху.

Всі користувачі, які запускають зачеплений випуск, повинні оновитися негайно.

## Зачеплені версії

* Серія Ruby 2.2: 2.2.9 та раніше
* Серія Ruby 2.3: 2.3.6 та раніше
* Серія Ruby 2.4: 2.4.3 та раніше
* Серія Ruby 2.5: 2.5.0 та раніше
* Серія Ruby 2.6: 2.6.0-preview1
* до ревізії trunk r62991

## Подяка

Дякуємо [ooooooo_q](https://hackerone.com/ooooooo_q) за повідомлення про проблему.

## Історія

* Спочатку опубліковано 2018-03-28 14:00:00 (UTC)