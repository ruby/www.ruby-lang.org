---
layout: news_post
title: "CVE-2018-6914: Ненавмисне створення файлу та директорії з обходом директорії в tempfile та tmpdir"
author: "usa"
translator: "Andrii Furmanets"
date: 2018-03-28 14:00:00 +0000
tags: security
lang: uk
---

Є вразливість ненавмисного створення директорії в бібліотеці tmpdir, включеній в Ruby.
І також є вразливість ненавмисного створення файлу в бібліотеці tempfile, включеній в Ruby, оскільки вона використовує tmpdir внутрішньо.
Цій вразливості присвоєно ідентифікатор CVE [CVE-2018-6914](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-6914).

## Деталі

Метод `Dir.mktmpdir`, введений бібліотекою tmpdir, приймає префікс та суфікс директорії, яка створюється, як перший параметр.
Префікс може містити відносні специфікатори директорії `"../"`, тому цей метод може бути використаний для націлювання на будь-яку директорію.
Тому, якщо скрипт приймає зовнішній ввід як префікс, і цільова директорія має невідповідні дозволи або процес ruby має невідповідні привілеї, зловмисник може створити директорію або файл у будь-якій директорії.

Всі користувачі, які запускають зачеплений випуск, повинні оновитися негайно.

## Зачеплені версії

* Серія Ruby 2.2: 2.2.9 та раніше
* Серія Ruby 2.3: 2.3.6 та раніше
* Серія Ruby 2.4: 2.4.3 та раніше
* Серія Ruby 2.5: 2.5.0 та раніше
* Серія Ruby 2.6: 2.6.0-preview1
* до ревізії trunk r62990

## Подяка

Дякуємо [ooooooo_q](https://hackerone.com/ooooooo_q) за повідомлення про проблему.

## Історія

* Спочатку опубліковано 2018-03-28 14:00:00 (UTC)
