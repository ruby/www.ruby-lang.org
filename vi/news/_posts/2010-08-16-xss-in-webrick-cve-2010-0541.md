---
layout: news_post
title: "XSS trong WEBrick (CVE-2010-0541)"
author: "Yugui"
lang: vi
---

Một lỗ hổng bảo mật có thể xảy ra trên WEBrick. Lỗ hổng đã được báo
cáo là [CVE-2010-0541][1].

### CVE-2010-0541

#### Mô tả

WEBrick có lỗ hổng cross-site scripting cho phép kẻ tấn công chèn
script hoặc HTML tùy ý thông qua URI được tạo thủ công. Điều này không
ảnh hưởng đến các user agent tuân thủ nghiêm ngặt HTTP/1.1, tuy nhiên
một số user agent thì không.

Các phiên bản bị ảnh hưởng:

* Ruby 1.8.6-p399 hoặc bất kỳ bản phát hành trước đó.
* Ruby 1.8.7-p299 hoặc bất kỳ bản phát hành trước đó.
* Ruby 1.9.1-p429 hoặc bất kỳ bản phát hành trước đó.
* Ruby 1.9.2 RC2 hoặc bất kỳ bản phát hành trước đó.
* Các phiên bản phát triển của Ruby 1.9 (1.9.3dev).

Chúng tôi khuyến nghị bạn nâng cấp ruby lên các bản phát hành patch
level mới nhất.

#### Giải pháp

* Các bản sửa cho 1.8.6, 1.8.7 và 1.9.1 sẽ theo sau thông báo này.
  * 1\.8.6:
  * 1\.8.7: vui lòng nâng cấp lên [1.8.7 patchlevel 302][2]
  * 1\.9.1: vui lòng nâng cấp lên [1.9.1 patchlevel 430][3]

* Đối với các phiên bản phát triển, vui lòng cập nhật lên revision mới
  nhất cho mỗi nhánh phát triển.
* Bạn cũng có thể sửa lỗ hổng bằng cách áp dụng bản vá cho
  `$(libdir)/ruby/${ruby_version}/webrick/httpresponse.rb`.
  Bản vá có sẵn tại
  [&lt;URL:https://cache.ruby-lang.org/pub/misc/webrick-cve-2010-0541.diff&gt;][4].
  Bản vá được viết bởi Hirokazu NISHIO.

  SIZE:
  : 466 bytes

  MD5:
  : 395585e1aae7ddef842f0d1d9f5e6e07

  SHA256:
  : 6bf7dea0fc78f0425f5cbb90f78c3485793f27bc60c11244b6ba4023445f3567

#### Ghi nhận

Lỗ hổng được phát hiện bởi Apple và được báo cáo cho đội bảo mật Ruby
bởi Hideki Yamane. <sup>[\*1](#fn1)</sup>

### Cập nhật

* Được đăng lần đầu vào 2010-08-16 10:26:03 JST.
* 1\.9.1 patchlevel 430 đã phát hành
* 1\.8.7 patchlevel 301 đã phát hành
* 1\.8.7 patchlevel 302 đã phát hành vì pl301 bị lỗi. Vui lòng sử
  dụng bản này thay thế.

* * *

<sup>\*1</sup> <small>[\[ruby-dev:42003\]][5]</small>
{: #fn1}



[1]: http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2010-0541
[2]: https://blade.ruby-lang.org/ruby-talk/367769
[3]: {{ site.url }}/en/news/2010/08/16/ruby-1-9-1-p430-is-released/
[4]: https://cache.ruby-lang.org/pub/misc/webrick-cve-2010-0541.diff
[5]: https://blade.ruby-lang.org/ruby-dev/42003
