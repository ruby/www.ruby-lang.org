---
layout: news_post
title: "CVE-2018-8779: Tạo socket ngoài ý muốn bằng byte NUL độc hại trong UNIXServer và UNIXSocket"
author: "usa"
translator:
date: 2018-03-28 14:00:00 +0000
tags: security
lang: vi
---

Có một lỗ hổng tạo socket ngoài ý muốn trong phương thức `UNIXServer.open` của thư viện socket đi kèm với Ruby.
Và cũng có lỗ hổng truy cập socket ngoài ý muốn trong phương thức `UNIXSocket.open`.
Lỗ hổng này đã được gán mã định danh CVE [CVE-2018-8779](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-8779).

## Chi tiết

`UNIXServer.open` nhận đường dẫn của socket sẽ được tạo làm tham số đầu tiên.
Nếu đường dẫn chứa byte NUL (`\0`), phương thức này nhận diện rằng đường dẫn kết thúc trước byte NUL.
Vì vậy, nếu một script nhận đầu vào bên ngoài làm đối số của phương thức này, kẻ tấn công có thể tạo tệp socket tại đường dẫn ngoài ý muốn.
Và, `UNIXSocket.open` cũng nhận đường dẫn của socket sẽ được tạo làm tham số đầu tiên mà không kiểm tra byte NUL giống như `UNIXServer.open`.
Vì vậy, nếu một script nhận đầu vào bên ngoài làm đối số của phương thức này, kẻ tấn công có thể truy cập tệp socket tại đường dẫn ngoài ý muốn.

Tất cả người dùng đang chạy phiên bản bị ảnh hưởng nên nâng cấp ngay lập tức.

## Các phiên bản bị ảnh hưởng

* Ruby dòng 2.2: 2.2.9 trở về trước
* Ruby dòng 2.3: 2.3.6 trở về trước
* Ruby dòng 2.4: 2.4.3 trở về trước
* Ruby dòng 2.5: 2.5.0 trở về trước
* Ruby dòng 2.6: 2.6.0-preview1
* trước trunk revision r62991

## Ghi công

Cảm ơn [ooooooo_q](https://hackerone.com/ooooooo_q) đã báo cáo vấn đề này.

## Lịch sử

* Công bố lần đầu vào 2018-03-28 14:00:00 (UTC)
