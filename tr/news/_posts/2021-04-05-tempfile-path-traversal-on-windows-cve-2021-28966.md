---
layout: news_post
title: "CVE-2021-28966: Windows'ta Tempfile içinde yol geçişi"
author: "mame"
translator: "ismailarilik"
date: 2021-04-05 12:00:00 +0000
tags: security
lang: tr
---

Windows'ta Ruby ile gelen tmpdir kütüphanesinde, kasıtsız olarak oluşturulan bir dizin oluşturma zaafiyeti vardır.
Ayrıca Windows'ta Ruby ile gelen tempfile kütüphanesinde kasıtsız olarak oluşturulmuş dosya oluşturma zaafiyeti vardır, çünkü bu kütüphane içinde tmpdir kütüphanesini kullanır.
Bu zaafiyet şu CVE belirtecine atanmıştır: [CVE-2021-28966](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28966)

## Ayrıntılar

tmpdir kütüphanesi tarafından eklenen `Dir.mktmpdir` metodu, ilk parametre olarak oluşturulan dizinin önek ve sonekini alır.
Önek `"..\\"` gibi göreceli dizin belirteçlerini içerebilir, yani bu metod herhangi bir dizini hedeflemek için kullanılabilir.
Yani eğer bir betik bir diş girdiyi önek olarak kabul ederse ve hedeflenen dizin uygun olmayan izinlere sahip ya da ruby işlemi uygun olmayan önceliklere sahipse, saldırgan herhangi bir dizinde bir dizin ya da dosya oluşturabilir.

Bu zaafiyet [CVE-2018-6914](https://www.ruby-lang.org/tr/news/2018/03/28/unintentional-file-and-directory-creation-with-directory-traversal-cve-2018-6914/) ile aynı zaafiyettir fakat bu zaafiyetin düzeltmesi Windows'ta eksikti.

Etkilenen bir sürüm kullanan tüm kullanıcılar acilen yükseltme yapmalıdır.

## Etkilenen sürümler

* Ruby 2.7.2 ya da öncesi
* Ruby 3.0.0

## Teşekkürler

Bu zaafiyeti keşfettiği için [Bugdiscloseguys](https://hackerone.com/bugdiscloseguys)'a teşekkür ederiz.

## Geçmiş

* İlk olarak 2021-04-05 12:00:00 (UTC) tarihinde yayınlandı.
