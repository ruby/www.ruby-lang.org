---
layout: root
---
<head>
  <meta charset="utf-8">

  {% if page.title != null %}
    {% capture homepage_path %}/{{ page.lang }}/{% endcapture %}
    {% if page.url == homepage_path %}
  <title>{{ page.title }}</title>
    {% else %}
  <title>{{ page.title }} | Ruby</title>
    {% endif %}
  {% else %}
  <title>Ruby Programming Language</title>
  {% endif %}

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {% capture homepage_path %}/{{ page.lang }}/{% endcapture %}
  {% if page.url == homepage_path %}
    {% assign meta_description = "A Programmer's Best Friend" %}
  {% elsif page.description %}
    {% assign meta_description = page.description %}
  {% elsif page.excerpt %}
    {% assign meta_description = page.excerpt | strip_html | strip_newlines | truncate: 160 %}
  {% else %}
    {% assign meta_description = page.content | strip_html | strip_newlines | truncate: 160 %}
  {% endif %}

  {% if page.title %}
    {% if page.url == homepage_path %}
      {% assign meta_title = page.title %}
    {% else %}
      {% assign meta_title = page.title | append: " | Ruby" %}
    {% endif %}
  {% else %}
    {% assign meta_title = "Ruby Programming Language" %}
  {% endif %}

  <meta name="description" content="{{ meta_description }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}{{ page.url | replace: 'index.html', '' }}">
  <meta property="og:title" content="{{ meta_title }}">
  <meta property="og:description" content="{{ meta_description }}">
  <meta property="og:image" content="{{ site.url }}/images/og-image.png">
  <meta property="og:site_name" content="Ruby Programming Language">
  <meta property="og:locale" content="{{ page.lang | default: 'en' }}">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="{{ site.url }}{{ page.url | replace: 'index.html', '' }}">
  <meta name="twitter:title" content="{{ meta_title }}">
  <meta name="twitter:description" content="{{ meta_description }}">
  <meta name="twitter:image" content="{{ site.url }}/images/twitter-card-square.png">

  <!-- Schema.org -->
  <meta itemprop="name" content="{{ meta_title }}">
  <meta itemprop="description" content="{{ meta_description }}">
  <meta itemprop="image" content="{{ site.url }}/images/og-image.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+KR:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Material+Icons&family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..24,200..700,0,0&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
  <link rel="canonical" href="{{ site.url }}{{ page.url | replace: 'index.html', '' }}">

  <link rel="icon" href="/favicon.ico" sizes="32x32">
  <link rel="icon" href="/images/icon-192.png" type="image/png" sizes="192x192">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  {% include rss_discovery.html %}

  <!-- Apply theme immediately to prevent flash -->
  <script>
    (function() {
      const theme = localStorage.getItem('theme-preference') || 'auto';
      if (theme === 'dark') {
        document.documentElement.classList.add('dark');
      } else if (theme === 'light') {
        document.documentElement.classList.remove('dark');
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.classList.add('dark');
      }
    })();
  </script>

  <!-- Detect icon font loading to prevent FOUT -->
  <script>
    (function() {
      if (document.fonts && document.fonts.load) {
        document.fonts.load('24px "Material Symbols Rounded"').then(function() {
          document.documentElement.classList.add('fonts-loaded');
        }).catch(function() {
          document.documentElement.classList.add('fonts-loaded');
        });
      } else {
        document.documentElement.classList.add('fonts-loaded');
      }
    })();
  </script>

  <script type="text/javascript" src="/javascripts/navigation-toggle.js" defer></script>
  <script type="text/javascript" src="/javascripts/header-navigation.js" defer></script>
  <script type="text/javascript" src="/javascripts/toc.js" defer></script>
  <script type="text/javascript" src="/javascripts/theme-toggle.js" defer></script>
  {% if layout.javascript != null %}
  {% for javascript in layout.javascript %}
  <script type="text/javascript" src="/javascripts/{{ javascript }}.js"></script>
  {% endfor %}
  {% endif %}
</head>

{% capture homepage_url %}/{{ page.lang }}/{% endcapture %}

<body{% if page.url == homepage_url %} id="home-page-layout"{% endif %}>
  {% include header.html %}

  <div id="page" class="pt-20">
    {{ content }}
  </div>

  {% include footer.html %}
</body>
